module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},46842,a=>{"use strict";let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},40777,a=>{"use strict";var b=a.i(87924),c=a.i(9702),d=a.i(57468),e=a.i(34840),f=a.i(72131);function g(){let{selectedPropertyId:a}=(0,c.usePropertyFilter)(),g=(0,f.useMemo)(()=>{let b=d.MOCK_REVIEWS;return"ALL"!==a&&(b=b.filter(b=>b.propertyId===a)),[...b].sort((a,b)=>new Date(b.date).getTime()-new Date(a.date).getTime())},[a]);return(0,b.jsxs)("div",{className:"space-y-12",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("h2",{className:"text-2xl font-light text-white tracking-tight",children:"Recent Reviews"})}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-8",children:0===g.length?(0,b.jsx)("div",{className:"bg-redstone-card p-10 text-center text-gray-500 border border-redstone-card/50",children:"No reviews found."}):g.map(a=>(0,b.jsx)(e.ReviewCard,{review:a,onReplied:()=>{}},a.id))})]})}var h=a.i(21374),i=a.i(70106);let j=(0,i.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),k=(0,i.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function l(){let{selectedPropertyId:a}=(0,c.usePropertyFilter)(),e=(0,f.useMemo)(()=>"ALL"===a?d.MOCK_REVIEWS:d.MOCK_REVIEWS.filter(b=>b.propertyId===a),[a]),g=e.length,i=g>0?(e.reduce((a,b)=>a+b.rating,0)/g).toFixed(1):"0.0",l=e.filter(a=>"PENDING"===a.status).length;return(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 mb-10",children:[(0,b.jsx)("div",{className:"bg-redstone-card p-10 text-redstone-text",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wider text-gray-400 font-medium",children:"Total Reviews"}),(0,b.jsx)("h3",{className:"text-3xl font-light mt-2 text-white",children:g})]}),(0,b.jsx)("div",{className:"text-gray-400",children:(0,b.jsx)(j,{className:"w-8 h-8 stroke-[1.5px]"})})]})}),(0,b.jsx)("div",{className:"bg-redstone-card p-10 text-redstone-text",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wider text-gray-400 font-medium",children:"Average Rating"}),(0,b.jsx)("h3",{className:"text-3xl font-light mt-2 text-white",children:i})]}),(0,b.jsx)("div",{className:"text-gray-400",children:(0,b.jsx)(h.Star,{className:"w-8 h-8 stroke-[1.5px]"})})]})}),(0,b.jsxs)("div",{className:"bg-redstone-card p-10 text-redstone-text relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"relative z-10 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wider text-gray-400 font-medium",children:"Pending Actions"}),(0,b.jsx)("h3",{className:"text-3xl font-light mt-2 text-white",children:l})]}),(0,b.jsx)("div",{className:"text-redstone-red",children:(0,b.jsx)(k,{className:"w-8 h-8 stroke-[1.5px]"})})]}),l>0&&(0,b.jsx)("div",{className:"absolute top-0 right-0 w-16 h-16 bg-redstone-red/10 rounded-bl-full -mr-8 -mt-8"})]})]})}var m=a.i(11642),n=a.i(22431),o=a.i(73570);let p=(0,i.default)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),q=(0,i.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),r=(0,i.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),s=(0,i.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),t={Maintenance:p,Staff:q,Cleanliness:r,Amenities:r,Other:j};function u(){let{selectedPropertyId:a}=(0,c.usePropertyFilter)(),{user:d}=(0,m.useAuth)(),[e,g]=(0,f.useState)([]),[h,i]=(0,f.useState)(!0);(0,f.useEffect)(()=>{(async()=>{if(d)try{let b=(await n.GoogleBusinessService.getReviews(a,d)).filter(a=>a.isActionable);g(b)}catch(a){console.error("Failed to load insights",a)}finally{i(!1)}})()},[a,d]);let k=(0,f.useMemo)(()=>{let a={};return e.forEach(b=>{let c=b.category||"Other";a[c]||(a[c]=[]),a[c].push(b)}),a},[e]);return h?(0,b.jsx)("div",{className:"animate-pulse h-48 bg-gray-100 rounded-xl"}):0===e.length?null:(0,b.jsxs)("div",{className:"bg-redstone-card rounded-none shadow-sm border border-redstone-card/50 p-10 mb-12",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,b.jsx)("div",{className:"p-3 bg-redstone-red/10 text-redstone-red rounded-none",children:(0,b.jsx)(o.AlertTriangle,{className:"w-6 h-6 stroke-[1.5px]"})}),(0,b.jsx)("h2",{className:"text-lg font-bold text-white tracking-tight",children:"Priority Actions"}),(0,b.jsxs)("span",{className:"ml-auto text-xs font-medium bg-redstone-red text-white px-2 py-1 rounded-full",children:[e.length," Items"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Object.entries(k).map(([a,c])=>{let d=t[a]||j;return(0,b.jsxs)("div",{className:"border border-gray-700/30 rounded-none overflow-hidden bg-redstone-bg/40",children:[(0,b.jsxs)("div",{className:"bg-redstone-bg px-6 py-4 border-b border-gray-700/30 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(d,{className:"w-4 h-4 text-redstone-red"}),(0,b.jsx)("h3",{className:"font-bold text-white text-xs uppercase tracking-widest",children:a})]}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-800 border border-gray-700 px-2 py-0.5 rounded-none uppercase tracking-tighter",children:c.length})]}),(0,b.jsx)("div",{className:"divide-y divide-gray-700/20",children:c.map(a=>(0,b.jsxs)("div",{className:"p-6 hover:bg-white/5 transition-colors group cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("p",{className:"text-sm font-bold text-gray-200 tracking-tight",children:a.author}),(0,b.jsx)("span",{className:"text-[10px] text-gray-500 uppercase font-medium",children:new Date(a.date).toLocaleDateString()})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400 line-clamp-2 mb-4 leading-relaxed",children:a.content}),(0,b.jsxs)("div",{className:"flex items-center text-[10px] text-redstone-red font-bold uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-opacity",children:["View Review ",(0,b.jsx)(s,{className:"w-3 h-3 ml-1"})]})]},a.id))})]},a)})})]})}let v=(0,i.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),w=(0,i.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),x=(0,i.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function y(){let{selectedPropertyId:a}=(0,c.usePropertyFilter)(),[d,e]=(0,f.useState)(!1),g=async()=>{try{await navigator.clipboard.writeText(""),e(!0),setTimeout(()=>e(!1),2e3)}catch(a){console.error("Failed to copy",a)}};return(0,b.jsxs)("div",{className:"bg-redstone-card p-10 rounded-none shadow-sm border border-redstone-card/50 flex flex-col justify-center h-full",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,b.jsx)("div",{className:"p-3 bg-redstone-red/10 text-redstone-red rounded-none",children:(0,b.jsx)(v,{className:"w-6 h-6 stroke-[1.5px]"})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white tracking-tight",children:"Survey Link"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-8 leading-relaxed",children:"Share this link with residents to collect feedback and improve your property's reputation."}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-redstone-bg p-4 rounded-none border border-gray-700/30",children:[(0,b.jsx)("code",{className:"text-xs text-gray-300 truncate flex-1 font-mono tracking-wider",children:"ALL"===a?"Select a property...":`/survey?propertyId=${a}`}),(0,b.jsx)("button",{onClick:g,disabled:"ALL"===a,className:"p-2 hover:bg-white/5 rounded-none transition-colors text-gray-500 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",title:"Copy Link",children:d?(0,b.jsx)(x,{className:"w-4 h-4 text-green-500"}):(0,b.jsx)(w,{className:"w-4 h-4"})})]})]})}function z(){return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-light text-white tracking-tight",children:"Dashboard"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{className:"px-4 py-2 text-sm font-medium text-gray-300 border border-gray-600 hover:border-gray-400 hover:text-white transition-colors rounded-none uppercase tracking-wider",children:"Add Property"}),(0,b.jsxs)("button",{className:"px-4 py-2 text-sm font-medium text-white bg-redstone-red hover:bg-red-700 transition-colors rounded-none flex items-center gap-2 uppercase tracking-wider shadow-lg shadow-red-900/20",children:["Export Data ",(0,b.jsx)("span",{className:"text-xs",children:"â€º"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 mb-12",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsx)(u,{})}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsx)(y,{})})]}),(0,b.jsx)(l,{}),(0,b.jsx)(g,{})]})}a.s(["default",()=>z],40777)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f4b0a814._.js.map