module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},58688,a=>{"use strict";let b=(0,a.i(5210).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],58688)},30351,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(9213),g=a.r(11264),h=a.r(69458)},49158,a=>{"use strict";let b=(0,a.i(5210).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],49158)},37129,a=>{"use strict";var b=a.i(28967),c=a.i(47145),d=a.i(87275),e=a.i(77321),f=a.i(30351);let g=(0,f.createServerReference)("60cf6ddff9539771cd2eec56a476d7211218bf4380",f.callServer,void 0,f.findSourceMapURL,"getReviewsAction"),h=(0,f.createServerReference)("00de442d17ff96ed7b9bd7db00ac417d0610a60c90",f.callServer,void 0,f.findSourceMapURL,"triggerAiAuditAction");var i=a.i(61945),j=a.i(5210);let k=(0,j.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),l=(0,j.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var m=a.i(17992);function n(){let{selectedPropertyId:a}=(0,d.usePropertyFilter)(),{user:f}=(0,e.useAuth)(),[j,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(!1),s=async()=>{p(!0);try{let b=await g(a,f);n(b)}catch(a){console.error("Failed to fetch reviews",a),n([])}finally{p(!1)}},t=async()=>{r(!0);try{let a=await h();console.log("AI Audit Complete:",a),await s()}catch(a){console.error("Audit failed",a)}finally{r(!1)}};return(0,c.useEffect)(()=>{f&&s()},[a,f]),(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Review Feed"}),(0,b.jsx)("p",{className:"text-gray-400 mt-2 text-sm italic",children:"Manage and respond to customer reviews from Google Business Profile."})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:t,disabled:q,className:"flex items-center gap-2 px-4 py-2 text-xs font-bold text-redstone-red bg-redstone-red/10 border border-redstone-red/20 hover:bg-redstone-red/20 transition-all rounded-none uppercase tracking-widest disabled:opacity-50",title:"Run AI categorization on all un-analyzed reviews",children:[(0,b.jsx)(m.Sparkles,{className:`w-3.5 h-3.5 ${q?"animate-pulse":""}`}),q?"Auditing...":"AI Audit"]}),(0,b.jsxs)("button",{onClick:s,disabled:o,className:"flex items-center gap-2 text-xs font-bold text-gray-400 hover:text-white border border-gray-700 hover:border-white px-4 py-2 transition-all uppercase tracking-widest",children:[(0,b.jsx)(l,{className:`w-3.5 h-3.5 ${o?"animate-spin":""}`}),"Refresh Feed"]})]})]}),(0,b.jsx)("div",{className:"space-y-8 pb-20",children:o?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-32 bg-redstone-card/30 border border-redstone-card/50",children:[(0,b.jsx)(k,{className:"w-10 h-10 text-redstone-red animate-spin mb-6 stroke-[1.5px]"}),(0,b.jsx)("p",{className:"text-gray-500 uppercase tracking-widest text-[10px] font-bold",children:"Synchronizing with Google..."})]}):0===j.length?(0,b.jsx)("div",{className:"text-center py-32 bg-redstone-card/30 border border-redstone-card/50",children:(0,b.jsx)("p",{className:"text-gray-500 uppercase tracking-widest text-[10px] font-bold",children:"No reviews found for this property."})}):j.map(a=>(0,b.jsx)(i.ReviewCard,{review:a,onReplied:s},a.id))})]})}a.s(["default",()=>n],37129)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6c2e9f04._.js.map