{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/user.ts","../../../../src/app/reviews/page.tsx","../../../../node_modules/lucide-react/src/icons/loader-circle.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","\n\"use client\";\n\nimport { useEffect, useState } from 'react';\nimport { usePropertyFilter } from '@/contexts/PropertyContext';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { GoogleBusinessService } from '@/lib/services/google-business';\nimport { Review } from '@/lib/types';\nimport { ReviewCard } from '@/components/ReviewCard';\nimport { Loader2 } from 'lucide-react';\n\nexport default function ReviewsPage() {\n    const { selectedPropertyId } = usePropertyFilter();\n    const { user } = useAuth();\n    const [reviews, setReviews] = useState<Review[]>([]);\n    const [isLoading, setIsLoading] = useState(true); // Renamed from 'loading' to 'isLoading'\n\n    const loadReviews = async () => { // Renamed from 'fetchReviews' to 'loadReviews'\n        setIsLoading(true);\n        try {\n            // Pass user context for authorization\n            const data = await GoogleBusinessService.fetchAllReviews(selectedPropertyId, user); // Changed to fetchAllReviews\n            setReviews(data);\n        } catch (error) {\n            console.error(\"Failed to fetch reviews\", error); // Updated error message\n            setReviews([]);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        if (user) {\n            loadReviews(); // Changed to loadReviews\n        }\n    }, [selectedPropertyId, user]);\n\n    if (isLoading) {\n        return (\n            <div className=\"flex flex-col items-center justify-center py-20\">\n                <Loader2 className=\"w-8 h-8 text-blue-600 animate-spin mb-4\" />\n                <p className=\"text-gray-500\">Loading reviews...</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"max-w-4xl mx-auto\">\n            <div className=\"flex items-center justify-between mb-8\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900\">Review Feed</h1>\n                    <p className=\"text-gray-500 mt-1\">Manage and respond to customer reviews from Google.</p>\n                </div>\n                <button\n                    onClick={loadReviews} // Changed to loadReviews\n                    className=\"text-sm text-blue-600 hover:underline\"\n                >\n                    Refresh\n                </button>\n            </div>\n\n            {loading ? (\n                <div className=\"flex flex-col items-center justify-center py-20\">\n                    <Loader2 className=\"w-8 h-8 text-blue-600 animate-spin mb-4\" />\n                    <p className=\"text-gray-500\">Loading reviews...</p>\n                </div>\n            ) : (\n                <div className=\"space-y-6\">\n                    {reviews.length === 0 ? (\n                        <div className=\"text-center py-20 bg-white rounded-xl border border-gray-100\">\n                            <p className=\"text-gray-500\">No reviews found for this property.</p>\n                        </div>\n                    ) : (\n                        reviews.map((review) => (\n                            <ReviewCard\n                                key={review.id}\n                                review={review}\n                                onReplied={fetchReviews}\n                            />\n                        ))\n                    )}\n                </div>\n            )}\n        </div>\n    );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }]];\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('loader-circle', __iconNode);\n\nexport default LoaderCircle;\n"],"names":[],"mappings":"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","ignoreList":[0,2]}