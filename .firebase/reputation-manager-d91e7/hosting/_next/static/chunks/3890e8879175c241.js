(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42691,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={callServer:function(){return l.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let l=e.r(92283),n=e.r(45603),i=e.r(59700)},92643,e=>{"use strict";let t=(0,e.i(94024).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],92643)},47954,91983,e=>{"use strict";var t=e.i(94024);let r=(0,t.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>r],47954);let a=(0,t.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>a],91983)},68384,e=>{"use strict";var t=e.i(50134),r=e.i(42219),a=e.i(57329),s=e.i(42691);let l=(0,s.createServerReference)("702bc335d46288d12f1b05da974729634602623e9d",s.callServer,void 0,s.findSourceMapURL,"getSurveyAnalyticsAction"),n=(0,s.createServerReference)("7097481c8b2658582fe192878e0de8c90be648baff",s.callServer,void 0,s.findSourceMapURL,"scheduleReportAction");var i=e.i(94024);let o=(0,i.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),d=(0,i.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var c=e.i(47954),x=e.i(91983),p=e.i(92643);function u(){let{selectedPropertyId:e}=(0,a.usePropertyFilter)(),s=new Date;s.setDate(s.getDate()-30);let[i,u]=(0,r.useState)(s.toISOString().split("T")[0]),[g,m]=(0,r.useState)(new Date().toISOString().split("T")[0]),[b,f]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!0),[w,S]=(0,r.useState)([]),[k,R]=(0,r.useState)({email:"",frequency:"Weekly"}),M=async()=>{N(!0);try{let t=await l(e,i,g);S(t)}catch(e){console.error("Failed to load analytics:",e)}finally{N(!1)}};(0,r.useEffect)(()=>{M()},[e,i,g]);let E=(0,r.useMemo)(()=>{let e=w.filter(e=>"COMPLETED"===e.status),t=w.length,r=e.length>0?(e.reduce((e,t)=>e+(t.rating||0),0)/e.length).toFixed(1):"0.0",a=t>0?Math.round(e.length/t*100):0;return{total:t,avg:r,responseRate:a,completedCount:e.length}},[w]),T=async t=>{t.preventDefault(),y(!0);try{await n(k.email,k.frequency,e),alert(`Report Scheduled! You will receive a summary at ${k.email} ${k.frequency.toLowerCase()}.`),f(!1)}catch(e){console.error("Failed to schedule report:",e),alert("Failed to schedule report. Please try again.")}finally{y(!1)}};return(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-10 pb-20 px-4",children:[(0,t.jsxs)("div",{className:"bg-redstone-card p-10 rounded-none border border-redstone-card/50 shadow-2xl relative overflow-hidden flex flex-col md:flex-row md:items-center justify-between gap-8",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-redstone-red"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white tracking-tighter uppercase mb-2",children:"INTELLIGENCE & INSIGHTS"}),(0,t.jsx)("p",{className:"text-gray-400 uppercase tracking-[0.2em] text-[10px] font-bold italic",children:"Real-time reputation performance across your portfolio"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-redstone-bg border border-gray-800 p-2",children:[(0,t.jsx)(o,{className:"w-4 h-4 text-redstone-red ml-2"}),(0,t.jsxs)("div",{className:"flex items-center text-xs font-mono text-gray-400",children:[(0,t.jsx)("input",{type:"date",value:i,onChange:e=>u(e.target.value),className:"bg-transparent border-none focus:ring-0 text-white w-28 uppercase"}),(0,t.jsx)("span",{className:"mx-2 opacity-30",children:"—"}),(0,t.jsx)("input",{type:"date",value:g,onChange:e=>m(e.target.value),className:"bg-transparent border-none focus:ring-0 text-white w-28 uppercase"})]})]}),(0,t.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-6 py-3 bg-redstone-red text-white text-[10px] font-bold uppercase tracking-widest hover:bg-red-700 transition-all shadow-lg shadow-redstone-red/10",children:[(0,t.jsx)(d,{className:"w-3.5 h-3.5"}),"Schedule Report"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(h,{label:"Surveys Issued",value:E.total.toString(),icon:(0,t.jsx)(c.TrendingUp,{className:"w-4 h-4"}),sub:"Move-In & Move-Out tracking"}),(0,t.jsx)(h,{label:"Response Rate",value:`${E.responseRate}%`,icon:(0,t.jsx)(x.Activity,{className:"w-4 h-4"}),sub:`${E.completedCount} completions total`}),(0,t.jsx)(h,{label:"Average Rating",value:E.avg,icon:(0,t.jsx)(p.Star,{className:"w-4 h-4"}),sub:"Aggregated resident sentiment",isGold:!0}),(0,t.jsx)(h,{label:"Performance Index",value:"94.2",icon:(0,t.jsx)(x.Activity,{className:"w-4 h-4"}),sub:"Proprietary Redstone metric"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-redstone-card p-8 border border-redstone-card/50 shadow-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[(0,t.jsx)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-[0.3em]",children:"SENTIMENT TRENDS"}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-[10px] font-bold text-gray-600 tracking-widest uppercase",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-redstone-red"})," RATING"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-800"})," TARGET"]})]})]}),(0,t.jsx)("div",{className:"h-64 flex items-end justify-between gap-6 px-4",children:[1,2,3,4,5,6].map(e=>(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 w-full group",children:[(0,t.jsxs)("div",{className:"w-full h-full bg-gray-900/50 relative flex items-end",children:[(0,t.jsx)("div",{className:"absolute top-1/4 w-full border-t border-gray-800 border-dashed z-0"}),(0,t.jsx)("div",{className:"w-full bg-redstone-red/20 border-t border-redstone-red transition-all duration-700 hover:bg-redstone-red/40 cursor-help relative z-10",style:{height:`${40+50*Math.random()}%`},children:(0,t.jsx)("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-950 text-white text-[10px] py-1 px-2 font-mono opacity-0 group-hover:opacity-100 transition-opacity border border-gray-800",children:(3+2*Math.random()).toFixed(1)})})]}),(0,t.jsxs)("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-tighter",children:["WK 0",e]})]},e))})]}),(0,t.jsxs)("div",{className:"bg-redstone-card p-8 border border-redstone-card/50 shadow-xl",children:[(0,t.jsx)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-[0.3em] mb-10 text-center",children:"RATING DISTRIBUTION"}),(0,t.jsx)("div",{className:"space-y-6",children:[5,4,3,2,1].map(e=>{let r=w.filter(t=>t.rating===e).length,a=E.completedCount>0?r/E.completedCount*100:0;return(0,t.jsxs)("div",{className:"flex items-center gap-4 group",children:[(0,t.jsxs)("span",{className:"text-[10px] font-bold text-gray-500 w-4 font-mono group-hover:text-white transition-colors",children:[e,"★"]}),(0,t.jsx)("div",{className:"flex-1 h-[2px] bg-gray-900 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-redstone-red transition-all duration-1000 shadow-[0_0_10px_rgba(186,0,36,0.3)]",style:{width:`${a}%`}})}),(0,t.jsxs)("span",{className:"text-[10px] font-mono text-gray-700 w-8 text-right group-hover:text-redstone-red transition-colors",children:[Math.round(a),"%"]})]},e)})})]})]}),b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-redstone-bg/90 flex items-center justify-center p-6 z-50 backdrop-blur-md animate-in fade-in duration-300",children:(0,t.jsxs)("div",{className:"bg-redstone-card rounded-none border border-redstone-card/50 shadow-[0_0_50px_rgba(0,0,0,0.5)] max-w-lg w-full p-12 relative animate-in zoom-in-95 duration-300",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-redstone-red"}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-white mb-4 tracking-tighter uppercase",children:"SCHEDULE EXECUTIVE SUMMARY"}),(0,t.jsx)("p",{className:"text-gray-400 mb-10 text-xs font-bold uppercase tracking-widest italic opacity-70",children:"Automated PDF delivery of performance metrics"}),(0,t.jsxs)("form",{onSubmit:T,className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-bold text-gray-500 mb-3 uppercase tracking-widest",children:"Recipient Email Address"}),(0,t.jsx)("input",{type:"email",required:!0,className:"w-full bg-redstone-bg border border-gray-800 p-4 text-white focus:border-redstone-red outline-none transition-colors text-sm",placeholder:"EXECUTIVE@REDSTONEMARKETING.COM",value:k.email,onChange:e=>R({...k,email:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-bold text-gray-500 mb-3 uppercase tracking-widest",children:"Reporting Cadence"}),(0,t.jsxs)("select",{className:"w-full bg-redstone-bg border border-gray-800 p-4 text-white focus:border-redstone-red outline-none transition-colors text-sm uppercase tracking-widest",value:k.frequency,onChange:e=>R({...k,frequency:e.target.value}),children:[(0,t.jsx)("option",{value:"Weekly",children:"Weekly (Every Monday)"}),(0,t.jsx)("option",{value:"Monthly",children:"Monthly (1st of month)"}),(0,t.jsx)("option",{value:"Quarterly",children:"Quarterly (Consolidated)"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 mt-12 pt-8 border-t border-gray-800",children:[(0,t.jsx)("button",{type:"button",onClick:()=>f(!1),className:"text-[10px] font-bold text-gray-500 hover:text-white uppercase tracking-widest transition-colors",children:"Discard"}),(0,t.jsx)("button",{type:"submit",disabled:v,className:"flex-1 py-4 bg-redstone-red text-white text-[10px] font-bold uppercase tracking-widest hover:bg-red-700 transition-all disabled:opacity-30",children:v?"PROVISIONING...":"CONFIRM SCHEDULE"})]})]})]})})]})}function h({label:e,value:r,icon:a,sub:s,isGold:l}){return(0,t.jsxs)("div",{className:"bg-redstone-card p-6 border border-redstone-card/50 shadow-xl group hover:border-redstone-red/30 transition-all duration-500",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest group-hover:text-gray-300 transition-colors",children:e}),(0,t.jsx)("div",{className:`p-2 bg-redstone-bg border border-gray-900 text-gray-600 group-hover:text-redstone-red group-hover:border-redstone-red/20 transition-all ${l?"text-yellow-500":""}`,children:a})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:`text-4xl font-bold tracking-tighter ${l?"text-yellow-500":"text-white"}`,children:r}),(0,t.jsx)("p",{className:"text-[10px] text-gray-600 font-bold uppercase tracking-wider italic",children:s})]})]})}e.s(["default",()=>u],68384)}]);