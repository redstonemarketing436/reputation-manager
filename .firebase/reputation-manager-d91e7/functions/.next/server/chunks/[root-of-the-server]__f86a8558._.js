module.exports=[2157,(e,t,r)=>{t.exports=e.x("node:fs",()=>require("node:fs"))},50227,(e,t,r)=>{t.exports=e.x("node:path",()=>require("node:path"))},37702,(e,t,r)=>{t.exports=e.x("worker_threads",()=>require("worker_threads"))},59639,(e,t,r)=>{t.exports=e.x("node:process",()=>require("node:process"))},18352,(e,t,r)=>{t.exports=e.x("node:stream/web",()=>require("node:stream/web"))},62330,e=>{"use strict";e.i(12608);var t=e.i(41164),r=e.i(28214);let n=0,a={START_BOUNDARY:n++,HEADER_FIELD_START:n++,HEADER_FIELD:n++,HEADER_VALUE_START:n++,HEADER_VALUE:n++,HEADER_VALUE_ALMOST_DONE:n++,HEADERS_ALMOST_DONE:n++,PART_DATA_START:n++,PART_DATA:n++,END:n++},i=1,o=2,s=e=>32|e,d=()=>{};class E{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=d,this.onHeaderField=d,this.onHeadersEnd=d,this.onHeaderValue=d,this.onPartBegin=d,this.onPartData=d,this.onPartEnd=d,this.boundaryChars={};const t=new Uint8Array((e="\r\n--"+e).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r),this.boundaryChars[t[r]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=a.START_BOUNDARY}write(e){let t,r,n=0,d=e.length,E=this.index,{lookbehind:A,boundary:h,boundaryChars:l,index:D,state:_,flags:T}=this,f=this.boundary.length,u=f-1,R=e.length,c=e=>{this[e+"Mark"]=n},H=e=>{delete this[e+"Mark"]},b=(e,t,r,n)=>{(void 0===t||t!==r)&&this[e](n&&n.subarray(t,r))},p=(t,r)=>{let a=t+"Mark";a in this&&(r?(b(t,this[a],n,e),delete this[a]):(b(t,this[a],e.length,e),this[a]=0))};for(n=0;n<d;n++)switch(t=e[n],_){case a.START_BOUNDARY:if(D===h.length-2){if(45===t)T|=o;else if(13!==t)return;D++;break}if(D-1==h.length-2){if(T&o&&45===t)_=a.END,T=0;else{if(T&o||10!==t)return;D=0,b("onPartBegin"),_=a.HEADER_FIELD_START}break}t!==h[D+2]&&(D=-2),t===h[D+2]&&D++;break;case a.HEADER_FIELD_START:_=a.HEADER_FIELD,c("onHeaderField"),D=0;case a.HEADER_FIELD:if(13===t){H("onHeaderField"),_=a.HEADERS_ALMOST_DONE;break}if(D++,45===t)break;if(58===t){if(1===D)return;p("onHeaderField",!0),_=a.HEADER_VALUE_START;break}if((r=s(t))<97||r>122)return;break;case a.HEADER_VALUE_START:if(32===t)break;c("onHeaderValue"),_=a.HEADER_VALUE;case a.HEADER_VALUE:13===t&&(p("onHeaderValue",!0),b("onHeaderEnd"),_=a.HEADER_VALUE_ALMOST_DONE);break;case a.HEADER_VALUE_ALMOST_DONE:if(10!==t)return;_=a.HEADER_FIELD_START;break;case a.HEADERS_ALMOST_DONE:if(10!==t)return;b("onHeadersEnd"),_=a.PART_DATA_START;break;case a.PART_DATA_START:_=a.PART_DATA,c("onPartData");case a.PART_DATA:if(E=D,0===D){for(n+=u;n<R&&!(e[n]in l);)n+=f;n-=u,t=e[n]}if(D<h.length)h[D]===t?(0===D&&p("onPartData",!0),D++):D=0;else if(D===h.length)D++,13===t?T|=i:45===t?T|=o:D=0;else if(D-1===h.length)if(T&i){if(D=0,10===t){T&=~i,b("onPartEnd"),b("onPartBegin"),_=a.HEADER_FIELD_START;break}}else T&o&&45===t?(b("onPartEnd"),_=a.END,T=0):D=0;D>0?A[D-1]=t:E>0&&(b("onPartData",0,E,new Uint8Array(A.buffer,A.byteOffset,A.byteLength)),E=0,c("onPartData"),n--);break;case a.END:break;default:throw Error(`Unexpected state entered: ${_}`)}p("onHeaderField"),p("onHeaderValue"),p("onPartData"),this.index=D,this.state=_,this.flags=T}end(){if(this.state===a.HEADER_FIELD_START&&0===this.index||this.state===a.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==a.END)throw Error("MultipartParser.end(): stream ended unexpectedly")}}async function A(e,n){let a,i,o,s,d,A;if(!/multipart/i.test(n))throw TypeError("Failed to fetch");let h=n.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!h)throw TypeError("no or bad content-type header, no multipart boundary");let l=new E(h[1]||h[2]),D=[],_=new r.FormData,T=e=>{o+=c.decode(e,{stream:!0})},f=e=>{D.push(e)},u=()=>{let e=new t.File(D,A,{type:d});_.append(s,e)},R=()=>{_.append(s,o)},c=new TextDecoder("utf-8");for await(let t of(c.decode(),l.onPartBegin=function(){l.onPartData=T,l.onPartEnd=R,a="",i="",o="",s="",d="",A=null,D.length=0},l.onHeaderField=function(e){a+=c.decode(e,{stream:!0})},l.onHeaderValue=function(e){i+=c.decode(e,{stream:!0})},l.onHeaderEnd=function(){if(i+=c.decode(),"content-disposition"===(a=a.toLowerCase())){let e=i.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);e&&(s=e[2]||e[3]||""),(A=function(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let r=t[2]||t[3]||"",n=r.slice(r.lastIndexOf("\\")+1);return(n=n.replace(/%22/g,'"')).replace(/&#(\d{4});/g,(e,t)=>String.fromCharCode(t))}(i))&&(l.onPartData=f,l.onPartEnd=u)}else"content-type"===a&&(d=i);i="",a=""},e))l.write(t);return l.end(),_}e.s(["toFormData",()=>A])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f86a8558._.js.map